# EncryptService
Сервис шифования сообщений и хранения в бд.

В папке Models хранится 3 класса:
1)EFDbContext - класс контекста данных. Подключение происходит к локальной базе данных, с помощью базового конструктора,
в качестве параметра которому передается имя подключения EFDbContext. Строку подключения можно увидеть в Web.config. Так же в классе имеются два свойства для доступа к таблицам бд EncryptModels и UserTextModels.
2)EncryptModel - модель данных, предназначенная для хранения символов. Имеет 3 свойства, аналогичных столбцам таблицы EncryptModels 
из локальной бд:  id - идентификатор, OldSymbol - символ, который следует заменить и NewSymbol - символ, на который нужно заменить. 
3)UserTextModel - модель данных, предназначенная для хранения даты и времени получения сообщения пользователя, самого сообщения пользователя, а также зашифрованного сообщения. Имеет 4 свойства, аналогичных столбцам таблицы UserTextModels из локальной бд: Message - сообщение пользователя. EncrMessage - зашифрованное сообщение пользователя. DateTime - дата и время получения сообщения от пользователя.

В папке Controllers хранится контроллер приложения HomeController, который содержит следующие методы:
1)Index() - Http.Get Action метод, на который ссылается приложение при запуске, данный метод указан в качестве начального в папке App_Start, в класссе RouteConfig.cs. Метод возвращает представление Index.cshtml, которое рендерится с помощью синтаксиса Razor @RenderBody в представлении макета Layout.cshtml. 
2)Index(string message) - Http.Post Action метод, в качестве параметра принимает сообщение от пользователя. В данном методе происходит 
создание объекта UserTextModel, а также вызывается метод шифрования EncryptMethod(string text), результат которого устанавливается свойству EncrMessage объекта UserTextModel, который в последствии сохраняется в одноименную таблицу бд UserTextModel. 
3)EncryptMethod(string text) - в качестве пораметра метод принимает сообщение пользователя. В данном методе реализуется логика шифрования
сообщения, путем замены всех символов сообщения из столбца OldSymbol на символы столбца NewSymbol.
4)Clear() - Данный метод очищает список зашифрованных сообщений нажатием на ссылку "Очистить" в представлении Index.cshtml.

В папке Views хранятся представления Index.cshtml, Layout.cshtml и ViewStart.cshtml.
При запуске, приложение запускает представление ViewStart.cshtml, которое ссылается на шаблон Layout.cshtml, в котором просходит рендеринг 
представления Index.cshtml. 
Index.cshtml представляет пользователю форму с текстовым полем, для ввода сообщения для шифрования. Кнопка "Отправить" отправляет Http.Post запрос методу Index, в котором формируются объекты класса UserTextModel, которые передаются в представление через динамический объект ViewBag.UserTextModels. Данный объект содержит коллекцию объектов типа UserTextModel и если он не нулевой, то с помощью контсрукции 
@foreach происходит вывод зашифрованных сообщений клиенту.
